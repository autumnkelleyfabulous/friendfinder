<!DOCTYPE html>

<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Friend Finder yay!</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<script src="https://code.jquery.com/jquery.js"></script>
	<script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
	 crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
	 crossorigin="anonymous"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
</head>

<body>
	<header>
		<nav>
			<div class="container">
				<div class="jumbotron">
					<h1 class="text-center">Friend Finder YAY!</h1>
					<h2 class="text-center">Let's Find You A New Friend!</h2>
					<br>
				</div>
			</div>
	</header>

	<div class="text-center">
		<h1>Survey Questions</h1>
		<br>
		<h3><Strong>Let Me Get To Know You!</Strong></h3>
		</br>
	</div>


	<form>
		<div class="form-group">
			<h5>Name (Required)</h5>
			<input type="text-center" class="validate" placeholder="Name" input id="name">
		</div>
		</div>
		</div>

		<div class="form-group">
			<div class="input-field col s6"></div>
			<h5>Link to Photo Image (Required)</h5>
			<input type="text-center" class="validate" placeholder="Photo" input id="photo">
		</div>
		</div>

		<!-- Survey Questions -->
		<div class="form-group">
			<h3>Question 1</h3>
			<h5>Your personality ingredient is "everything nice".</h5>
			<select class="form-control chosen-select text-warning" id="question1">
				<option value="" disabled selected>Choose your option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
			</select>
		</div>

		<div class="form-group">
			<h3>Question 2</h3>
			<h5>You've always wanted to communicate with animals</h5>
			<select class="form-control chosen-select text-warning" id="question2">
				<option value="" disabled selected>Choose your option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
			</select>
		</div>

		<div class="form-group"></div>
		<h3>Question 3</h3>
		<h5>PUPPIES!!!!!!!.</h5>
		<select class="form-control chosen-select text-warning" id="question3">
			<option value="" disabled selected>Choose your option</option>
			<option value="1">1 (Strongly Disagree)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (Strongly Agree)</option>
		</select>
		</div>
		<div class="form-group">
			<h3>Question 4</h3>
			<h5>Your Passion is often mistaken for agression</h5>
			<select class="form-control chosen-select text-warning" id="question4">
				<option value="" disabled selected>Choose your option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
			</select>
		</div>

		<div class="form-group">
			<h3>Question 5</h3>
			<h5>Your emotions and positive outlook can cloud your judgment </h5>
			<select class="form-control chosen-select text-warning" id="question5">
				<option value="" disabled selected>Choose your option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
			</select>
		</div>

		<div class="form-group">
			<h3>Question 6</h3>
			<h5>It's a Saturday night, the Mayor hasn't called, and you're taking it easy by...practicing
				moves on your punching bag?</h5>
			<select class="form-control chosen-select text-warning" id="question6"> >
				<option value="" disabled selected>Choose your option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
			</select>
		</div>

		<div class="form-group">
			<h3>Question 7</h3>
			<h5>If someone calls you ugly, you punch them in the face.</h5>
			<select class="form-control chosen-select text-warning" id="question7">
				<option value="" disabled selected>Choose your option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
			</select>
		</div>

		<div class="form-group">
			<h3>Question 8</h3>
			<h5>You HATE spiders</h5>
			<select class="form-control chosen-select text-warning" id="question8">
				<option value="" disabled selected>Choose your option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
			</select>
		</div>

		<div class="form-group">
			<h3>Question 9</h3>
			<h5>You're methodical and think things through </h5>
			<select class="form-control chosen-select text-warning" id="question9">
				<option value="" disabled selected>Choose your option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
			</select>
		</div>

		<div class="form-group">
			<h3>Question10</h3>
			<h5>You don't have time for plans, you're all action!.</h5>
			<select class="form-control chosen-select text-warning" id="question10">
				<option value="" disabled selected>Choose your option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
			</select>
		</div>
	</form>

	<!-- Survey Submit Button -->
	<div class="container">
			<h2>Your New Superhero Best-Friend!</h2>
			<!-- Trigger the modal with a button -->
			<button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Check it out!</button>
	
			<!-- Modal -->
			<div class="modal fade" id="mybestFriendModal" role="dialog">
				<div class="modal-dialog">
	
					<!-- Modal content-->
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">&times;</button>
							<h4 class="modal-title">Check Out Your New Best Friend!</h4>
						</div>
						<div class="modal-body">
							<h2 id="bestFriend"></h2>
							<img id="bestFriendPhoto" src="#">
							<p>HI!.</p>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
						</div>
					</div>
	
				</div>
			</div>
	
		</div>
	<!-- <div class="text-center">
		<button id="submitBtn" type="submit" class="btn btn-success btn-lg">FIND YOUR NEW BFF</button>
	</div> -->

	<div class="text-center">
		<ul>
			<ul> <a class="grey-text text-lighten-3" href="/data/friends.js">API Friends List</a></li>
				<ul> <a class="grey-text text-lighten-3" href="https://github.com/autumnkelleyfabulous/friendfinder">GitHub Repo</a></li>
				</ul>
	</div>

	<!-- Modal Dialog Displaying Closest Friend Match -->
	

	<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4ÃŸgsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	 crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</body>

</html>


<script type="text/javascript">
	$(document).ready(function () {

				// Activate submit button
				$(".submitBtn").on("click", function (event) {
					event.preventDefault();
					var valid = true;
					if ($("#name").val() === "" || $("#photo").val() === "") {
						valid = false;
					} else if ($("#question1").val() === "empty" || $("#question2").val() === "empty" || $("#question3").val() ===
						"empty" || $("#question4").val() === "empty" || $("#question5").val() === "empty" || $("#question6").val() ===
						"empty" || $("#question7").val() === "empty" || $("#question8").val() === "empty" || $("#question9").val() ===
						"empty" || $("#question10").val() === "empty") {
						valid = false;
					}
					if (valid === true) {
						// $("#add-btn").on("click", function () {
						// 	event.preventDefault();
						// Gather user inputs
						var friendInput = {
							name: $("#name").val().trim(),
							photo: $("#photo").val().trim(),
							scores: [
								$('#question1').val().trim(),
								$('#question2').val().trim(),
								$('#question3').val().trim(),
								$('#question4').val().trim(),
								$('#question5').val().trim(),
								$('#question6').val().trim(),
								$('#question7').val().trim(),
								$('#question8').val().trim(),
								$('#question9').val().trim(),
								$('#question10').val().trim()
							]
						};
						alert("Finding a friend!");
						console.log(friendinput);

						var currentURL = window.location.origin;
						// Ajax call for receiving response after POST req
						$.post(currentURL + "/api/friends", friendInput, function (data) {
							$("#bestFriend").text(data.name);
							$("#bestFriendPhoto").attr("src", data.photo);
							$("#bestFriendModal").modal("toggle");
						});
					} else {
						// If a required field is missing, show alert
						alert("Survey is incomplete!");
					}
				});


				// Add user inputs to friends list
				// 	$.post('/api/friends', friendInput)
				// 		.done(function (data) {
				// 			$('#userMatch').html(data.matchName);
				// 			$("#userMatchImage").attr("src", data.matchImage);
				// 			// Pop open the modal dialog
				// 			$('#modal1').modal('open');
				// 			console.log(data);
				// 			$('#caption').text("Your new SuperHero bestfriend is.. " + data.name + "!");
				// 			$('#imagepreview').attr('src', data.photo);
				// 			$('#imagemodal').modal('show');
				// 		});
				// 	$("#name").val("");
				// 	$("#photo").val("");
				// 	[$("#question1").val(""), $("#question2").val(""), $("#question3").val(""), $("#question4").val(""), $(
				// 			"#question5").val(""), $("#question6")
				// 		.val(""), $("#question7").val(""), $("#question8").val(""), $("#question9").val(""), $("#question10").val("")
				// 	]
				// });

				// console.log('response = ' + JSON.stringify(data));
				// Set the name and image values of friend match
					$("#userMatch").html(data.matchName);
				$("#userMatchImage").attr("src", data.matchImage);
				// Pop open the modal dialog
				$('#bestFriendModals').modal('open');
				// });
				// });